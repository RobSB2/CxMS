# Adding CxMS to an Existing Project

**CxMS Version:** 1.3
**Purpose:** Guide for retrofitting CxMS into projects with existing AI configuration

---

## Overview

This template helps you add CxMS to a project that already has:
- An existing CLAUDE.md (or similar AI config file)
- Established coding conventions
- Existing documentation structure

**Goal:** Add CxMS session management without disrupting your current setup.

---

## Step 1: Assess Your Current Setup

### What do you have?

| File | Status | Action |
|------|--------|--------|
| CLAUDE.md (or AI config) | Exists | Merge CxMS sections |
| CLAUDE.md | Missing | Use standard CLAUDE.md.template |
| Project documentation | Exists | Reference in Context.md |
| Task tracking | Exists (Issues, Jira, etc.) | Optional: Add Tasks.md or skip |

### Quick Decision Tree

```
Do you have CLAUDE.md?
├── Yes → Go to Step 2 (Merge)
└── No → Use standard CLAUDE.md.template, go to Step 3
```

---

## Step 2: Merge CxMS into Existing CLAUDE.md

Add these sections to your existing CLAUDE.md:

### 2.1 Add CxMS Header (Top of File)

Add after your existing title/version:

```markdown
**CxMS Version:** 1.3

## CxMS Integration

This project uses CxMS for session context management.
```

### 2.2 Add Mandatory Requirements Section

Insert this section (adjust file names to match your project):

```markdown
## MANDATORY REQUIREMENTS

### Session Start Requirements

Before ANY work, you MUST:
1. Read this file completely
2. Read `[PROJECT]_Session.md` completely
3. Read `[PROJECT]_Tasks.md` completely (if exists)
4. Provide verification summary to user

**After reading, provide:**
- Current active task
- Last session date
- What was done last session
- Recommended next action

### Session End Requirements

Before ending OR when context compacts, you MUST:
1. Update `[PROJECT]_Session.md` with all changes
2. Update `[PROJECT]_Tasks.md` if task status changed
3. Confirm update completion to user

### Compaction Protocol

If you sense context is about to compact:
1. STOP current work immediately
2. Update `[PROJECT]_Session.md` with current state
3. Note exact position in any ongoing work
4. Confirm save to user before compaction
```

### 2.3 Add Session Files Section

Add to reference your new session files:

```markdown
## CxMS Session Files

| File | Purpose | Update Frequency |
|------|---------|------------------|
| `[PROJECT]_Session.md` | Current state | Every session |
| `[PROJECT]_Tasks.md` | Task tracking | As tasks change |
| `[PROJECT]_Context.md` | Documentation index | When docs change |
```

---

## Step 3: Create Session File

Create `[PROJECT]_Session.md` using this minimal template:

```markdown
# [Project Name] - Session Context

**CxMS Version:** 1.3

**Purpose:** Preserves context between AI sessions
**Session Number:** 1
**Last Updated:** [DATE]

---

## TL;DR

| Field | Value |
|-------|-------|
| Status | [Current project status] |
| Current Focus | [What we're working on] |
| Blockers | [Any blockers, or "None"] |
| Next | [Next priority] |

---

## Current State

[Describe current state of the project - what's working, what's in progress]

---

## What Changed This Session

[Will be updated at session end]

---

## Context for Next Session

[Key information the next session needs to know]

---

## Session Start Prompt

\`\`\`
Read CLAUDE.md and [PROJECT]_Session.md, summarize current state, await instructions.
\`\`\`
```

---

## Step 4: (Optional) Create Tasks File

If you want CxMS task tracking (skip if using external tracker):

Create `[PROJECT]_Tasks.md`:

```markdown
# [Project Name] - Tasks

**CxMS Version:** 1.3
**Purpose:** Track development tasks

---

## Active Tasks

### TASK-001: [Task Name]
**Status:** In Progress
**Priority:** High
**Description:** [What this task accomplishes]

---

## Completed Tasks

[Move tasks here when done]
```

---

## Step 5: (Optional) Create Context Index

If you have multiple documentation files:

Create `[PROJECT]_Context.md`:

```markdown
# [Project Name] - Context Index

**CxMS Version:** 1.3
**Purpose:** Documentation index and reading order

---

## Reading Order

1. `CLAUDE.md` - Project overview and AI instructions
2. `[PROJECT]_Session.md` - Current state
3. [Your other docs in priority order]

---

## Documentation Map

| Document | Purpose | When to Read |
|----------|---------|--------------|
| CLAUDE.md | AI instructions | Every session |
| [PROJECT]_Session.md | Current state | Every session |
| [Your docs] | [Purpose] | [When needed] |
```

---

## Step 6: Update .gitignore (Optional)

If you want to keep session files private:

```gitignore
# CxMS local files (optional - remove if you want to version control)
*_Session.md
*_Tasks.md
*.local.md
```

Or version control them for team continuity (recommended for team projects).

---

## Minimal vs Full Integration

### Minimal Integration (Recommended Start)

| Add | Purpose |
|-----|---------|
| Merge into CLAUDE.md | Session requirements |
| [PROJECT]_Session.md | State tracking |

**That's it.** Start using CxMS with just these changes.

### Full Integration (Add Later as Needed)

| Add | When |
|-----|------|
| [PROJECT]_Tasks.md | Want task tracking in CxMS |
| [PROJECT]_Context.md | Have many docs to organize |
| Log templates | Need audit trails |
| Performance tracking | Want to measure CxMS effectiveness |

---

## Preserving Your Conventions

CxMS is additive - it doesn't replace your existing conventions:

| Your Existing | CxMS Addition |
|---------------|---------------|
| Coding style guide | Keep as-is |
| Architecture docs | Reference in Context.md |
| API documentation | Reference in Context.md |
| Existing CLAUDE.md content | Keep, add CxMS sections |

---

## Common Scenarios

### "I have detailed CLAUDE.md with coding conventions"

Keep all your conventions. Add only the CxMS Mandatory Requirements and Session Files sections.

### "I use GitHub Issues for tasks"

Skip Tasks.md. Just use Session.md for context and reference Issues in your session notes.

### "I have multiple AI config files"

Add CxMS sections to your primary one. Create Session.md that references all configs.

### "My project is a monorepo"

Create separate Session.md files per sub-project, or one root-level Session.md with sections per project.

---

## Verification

After setup, test with this prompt:

```
Read CLAUDE.md and [PROJECT]_Session.md.
Verify you understand:
1. The mandatory session requirements
2. The current project state
3. What to update at session end

Summarize what you found.
```

The AI should be able to explain the session lifecycle and current state.

---

## Getting Help

- Full guide: `CxMS_Introduction_and_Guide.md`
- Templates: `templates/` folder
- Migration: `templates/MIGRATION.md`

---

*CxMS - Add persistent memory to any project.*
